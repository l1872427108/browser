(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{437:function(t,v,_){"use strict";_.r(v);var e=_(56),i=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"网络面板"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#网络面板"}},[t._v("#")]),t._v(" 网络面板")]),t._v(" "),_("p",[t._v("网络面板由控制器、过滤器、抓图信息、时间线、详细列表和下载信息概要组成。\n"),_("img",{attrs:{src:"/browser/network.webp",width:"700",height:"500"}})]),t._v(" "),_("ol",[_("li",[_("p",[t._v("控制器\n"),_("img",{attrs:{src:"/browser/kongzhi.webp",width:"700",height:"500"}})])]),t._v(" "),_("li",[_("p",[t._v("过滤器\n只想查看 JavaScript 文件或者 CSS 文件，这时候就可以通过过滤器模块来筛选你想要的文件类型。")])]),t._v(" "),_("li",[_("p",[t._v("抓图信息\n分析用户等待页面加载时间内所看到的内容，分析用户实际的体验情况。如果页面加载 1 秒多之后屏幕截图还是白屏状态，这时候就需要分析是网络还是代码的问题")])]),t._v(" "),_("li",[_("p",[t._v("时间线\n展示 HTTP、HTTPS、WebSocket 加载的状态和时间的一个关系, 直观感受页面的加载过程.如果是多条竖线堆叠在一起，那说明这些资源被同时被加载.")])]),t._v(" "),_("li",[_("p",[t._v("详细列表\n记录了每个资源从发起请求到完成请求这中间所有过程的状态，以及最终请求完成的数据信息")])]),t._v(" "),_("li",[_("p",[t._v("下载信息概要")])])]),t._v(" "),_("ul",[_("li",[t._v("DOMContentLoaded: 页面已经构建好 DOM了。构造好了 DOM 树就会触发。但是资源还没有下载完成。")]),t._v(" "),_("li",[t._v("Load 说明浏览器已经加载了所有的资源文件。")])]),t._v(" "),_("p",[t._v("查看触发这两个事件所花费的时间。")]),t._v(" "),_("h3",{attrs:{id:"网络面板中的详细列表"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#网络面板中的详细列表"}},[t._v("#")]),t._v(" 网络面板中的详细列表")]),t._v(" "),_("h4",{attrs:{id:"列表的属性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#列表的属性"}},[t._v("#")]),t._v(" 列表的属性")]),t._v(" "),_("p",[t._v("Name、Status、Type、Initiator 属性。")]),t._v(" "),_("h4",{attrs:{id:"详细信息"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#详细信息"}},[t._v("#")]),t._v(" 详细信息")]),t._v(" "),_("img",{attrs:{src:"/browser/xiangxi.webp",width:"700",height:"500"}}),t._v(" "),_("h4",{attrs:{id:"单个资源的时间线"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#单个资源的时间线"}},[t._v("#")]),t._v(" 单个资源的时间线")]),t._v(" "),_("p",[t._v("单个资源的请求流程： 查找缓存 Cache ---\x3e  DNS ---\x3e 建立TCP ---\x3e Request ---\x3e Response头 ---\x3e response 体。\n"),_("img",{attrs:{src:"/browser/line.webp",width:"700",height:"500"}})]),t._v(" "),_("ol",[_("li",[_("p",[t._v("第一个是 Queuing, 排队的意思。当浏览器发起一个请求后，很多原因会导致该请求不能立即执行，需要等候。")]),t._v(" "),_("ul",[_("li",[t._v("页面的资源有优先级，CSS、HTML、JS 都是核心文件，优先级高。图片、视频、音频优先级都是比较低的。需要让路，排队等候。")]),t._v(" "),_("li",[t._v("每个域名维护 6 个 TCP 连接。超过 6 个 都需要排队等候。")]),t._v(" "),_("li",[t._v("网络进程在为数据分配磁盘空间时候，新的 HTTP 请求也需要等待磁盘分配结束。")])])]),t._v(" "),_("li",[_("p",[t._v("Stalled: 发起之前，可能有一些原因会导致连接推迟，Stalled 上。")])]),t._v(" "),_("li",[_("p",[t._v("Proxy Negotiation: 代理协商阶段，表示代理服务器连接协商所使用的时间。")])]),t._v(" "),_("li",[_("p",[t._v("Initial connection/SSL 阶段：和服务器建立连接的阶段，包括了建立 TCP 连接所需要花费的时间。如果使用 HTTPS 协议，还包括一个 SSL 握手时间，用来协商一些加密信息。")])]),t._v(" "),_("li",[_("p",[t._v("Request send 阶段：和服务器建立好连接，网络进程就会请求数据，发送给网络。只需要把浏览器缓冲区的数据发送出去就结束了，不需要判断服务器是否接收到。通过这个时间不到 1 毫秒。")])]),t._v(" "),_("li",[_("p",[t._v("Waiting（TTFB）：等到接收服务器第一个字节的数据，第一字节时间。TTFB 是反映服务器响应速度的重要指标。")])]),t._v(" "),_("li",[_("p",[t._v("Content Download： 第一个字节接收到之后，进入陆续接收完整数据阶段，意味着从第一个字节时间到全部接收到响应数据的时间。")])])]),t._v(" "),_("h3",{attrs:{id:"优化耗时"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#优化耗时"}},[t._v("#")]),t._v(" 优化耗时")]),t._v(" "),_("ol",[_("li",[_("p",[t._v("排队等到时间")]),t._v(" "),_("ul",[_("li",[t._v("可以让 1 个站点的资源放到多个域名下，采用域名分片技术。")]),t._v(" "),_("li",[t._v("将站点升级到 HTTP2，就没有6个TCP连接的限制了。")])])]),t._v(" "),_("li",[_("p",[t._v("第一字节时间（TTFB）")]),t._v(" "),_("ul",[_("li",[t._v("服务器生成页面数据时间过久（服务器接收到请求，从数据库那数据，然后将数据传入模版中，模版渲染后，返回给用户，服务器在处理这个数据的过程中，可能某个环境出了问题）。   解决方案：可以提高服务器的处理速度，比如增加各种缓存的技术。")]),t._v(" "),_("li",[t._v("网络问题（使用了低带宽的服务器，拖慢了网速）。  解决方案：可以采用 CDN 来缓存一些静态文件。")]),t._v(" "),_("li",[t._v("发送请求头时带上了多余的用户信息（服务器需要处理每一项头）。   解决方案：可以在发送请求的时尽可能的减少一些不必要的 Cookie 数据信息。")])])]),t._v(" "),_("li",[_("p",[t._v("Content Download")]),t._v(" "),_("ul",[_("li",[t._v("如果单个请求的 Content Download 过长时间，可能是因为字节数太多的原因导致的。可以减少文件大小，压缩、去掉不必要的注释等方法。")])])])])])}),[],!1,null,null,null);v.default=i.exports}}]);